#-*- conf -*-
#
# Configuration for GNU Screen 
#
# This file should be symbolic-linked with ~/.screenrc
#

# Use 'C-t' instead of 'C-a', which is commonly used in bash and Emacs
escape ^tt

# Use full color
term xterm-256color

# Set the windows title for the newly created shell
shelltitle "$ |bash"

# Set a new enviornment varialbe to do things differently depending on whether
# program is running inside screen or not. It is currently used to set
# hardstatus differently in bash and Emacs.
setenv IN_SCREEN 1

# Disable boring stuff
startup_message off

# Change hardstatus to show screen windows title(=t), host name(=H)
hardstatus string "S:%t@%H%? | %h%?"

# Set Screen caption to display 'tab' at the bottom to show all the windows
# names and also show the name of the current window in a different color.
caption always "%{rk}%H %{dk}%?%-Lw%?%{bw}%n*%f%t%?(%u)%?%{dk}%?%+Lw%?"

# Want to scroll back more than default
defscrollback 10000

# Remove annoying lock screen keys
bind ^x
bind x

#
# Use emacs style key-bindings in copy mode(specified '-m' in bindkey)
#
markkeys ^B=Y:^F=^V:h=^B:l=^F:0=^A:$=^E
markkeys ' '=^@
# Alt-keys
bindkey -m \033v stuff "Y"
bindkey -m \033f stuff "w"
bindkey -m \033b stuff "b"
bindkey -m \033< stuff "1G"
bindkey -m \033> stuff "G"
# Make C-e same as emacs
bindkey -m ^e stuff "$^F"

# Make it possible to copt the selected text to the X windows using xsel. When
# '>' is pressed in copy mode, the second mark is set, the selected region is
# written to the screen-exchange file, which is then copied to X windows
# clipboard by xsel tool
bindkey -m > eval "stuff ' '" writebuf "exec sh -c 'xsel < /tmp/screen-exchange'"

# Cannot remember why I did this ...
termcapinfo xterm*|rxvt*|kterm*|Eterm* 'hs:ts=\E]0;:fs=\007:ds=\E]0;\007'
